{"version":3,"sources":["Radio.tsx"],"names":["React","memo","forwardRef","Pressable","Center","Box","usePropsResolution","useRadio","RadioContext","mergeRefs","CircleIcon","useHasResponsiveProps","composeEventHandlers","combineContextAndProps","isEmptyObj","extractInObject","stylingProps","useHover","useFocus","useIsPressed","useFormControlContext","RadioComponent","icon","inputProps","combinedProps","size","children","wrapperRef","ref","isInvalid","isReadOnly","isIndeterminate","hoverProps","isHovered","pressableProps","isPressed","focusProps","isFocused","disabled","isDisabled","checked","isChecked","onPressIn","onPressOut","onHoverIn","onHoverOut","onFocus","onBlur","_interactionBox","_icon","resolvedProps","layoutProps","nonLayoutProps","margin","layout","flexbox","position","sizedIcon","cloneElement","Radio","props","formControlContext","contextState","useContext","inputRef","useRef","radioState","accessibilityLabel","state","useMemo","contextCombinedProps","useState","console","error"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport { Pressable, IPressableProps } from '../Pressable';\nimport { Center } from '../../composites/Center';\nimport Box from '../Box';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport type { IRadioProps } from './types';\nimport { useRadio } from '@react-native-aria/radio';\nimport { RadioContext } from './RadioGroup';\nimport { mergeRefs } from '../../../utils';\nimport { CircleIcon } from '../Icon/Icons';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport {\n  composeEventHandlers,\n  combineContextAndProps,\n  isEmptyObj,\n} from '../../../utils';\nimport { extractInObject, stylingProps } from '../../../theme/tools/utils';\nimport {\n  useHover,\n  useFocus,\n  useIsPressed,\n} from '../../primitives/Pressable/Pressable';\nimport { useFormControlContext } from '../../composites/FormControl';\n\nconst RadioComponent = memo(\n  forwardRef(\n    (\n      { icon, inputProps, combinedProps, size, children, wrapperRef }: any,\n      ref: any\n    ) => {\n      const { isInvalid, isReadOnly, isIndeterminate } = combinedProps;\n\n      const { hoverProps, isHovered } = useHover();\n      const { pressableProps, isPressed } = useIsPressed();\n      const { focusProps, isFocused } = useFocus();\n\n      const { disabled: isDisabled, checked: isChecked } = inputProps;\n\n      const {\n        onPressIn,\n        onPressOut,\n        onHoverIn,\n        onHoverOut,\n        onFocus,\n        onBlur,\n        _interactionBox,\n        _icon,\n        ...resolvedProps\n      } = usePropsResolution(\n        'Radio',\n        {\n          ...combinedProps,\n          size,\n        },\n        {\n          isInvalid,\n          isReadOnly,\n          isDisabled,\n          isIndeterminate,\n          isChecked,\n          isHovered,\n          isPressed,\n          isFocused,\n        }\n      );\n\n      const [layoutProps, nonLayoutProps] = extractInObject(resolvedProps, [\n        ...stylingProps.margin,\n        ...stylingProps.layout,\n        ...stylingProps.flexbox,\n        ...stylingProps.position,\n        '_text',\n      ]);\n\n      // only calling below function when icon exist.\n      const sizedIcon = () =>\n        //@ts-ignore\n        React.cloneElement(icon, {\n          ..._icon,\n        });\n\n      return (\n        <Pressable\n          {...pressableProps}\n          {...(inputProps as IPressableProps)}\n          ref={mergeRefs([ref, wrapperRef])}\n          accessibilityRole=\"radio\"\n          onPressIn={composeEventHandlers(onPressIn, pressableProps.onPressIn)}\n          onPressOut={composeEventHandlers(\n            onPressOut,\n            pressableProps.onPressOut\n          )}\n          // @ts-ignore - web only\n          onHoverIn={composeEventHandlers(onHoverIn, hoverProps.onHoverIn)}\n          // @ts-ignore - web only\n          onHoverOut={composeEventHandlers(onHoverOut, hoverProps.onHoverOut)}\n          // @ts-ignore - web only\n          onFocus={composeEventHandlers(\n            composeEventHandlers(onFocus, focusProps.onFocus)\n            // focusRingProps.onFocu\n          )}\n          // @ts-ignore - web only\n          onBlur={composeEventHandlers(\n            composeEventHandlers(onBlur, focusProps.onBlur)\n            // focusRingProps.onBlur\n          )}\n        >\n          <Center\n            flexDirection=\"row\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            borderRadius=\"full\"\n            {...layoutProps}\n          >\n            <Center>\n              {/* Interaction Wrapper */}\n              <Box {..._interactionBox} p={5} w=\"100%\" height=\"100%\" />\n              {/* radio */}\n              <Center {...nonLayoutProps}>\n                {icon && sizedIcon && isChecked ? (\n                  sizedIcon()\n                ) : (\n                  <CircleIcon {..._icon} opacity={isChecked ? 1 : 0} />\n                )}\n              </Center>\n            </Center>\n            {/* Label */}\n            {children}\n          </Center>\n        </Pressable>\n      );\n    }\n  )\n);\n\nconst Radio = (\n  { icon, children, size, wrapperRef, ...props }: IRadioProps,\n  ref: any\n) => {\n  const formControlContext = useFormControlContext();\n  const contextState = React.useContext(RadioContext);\n\n  const combinedProps = combineContextAndProps(formControlContext, props);\n\n  const inputRef = React.useRef(null);\n  const radioState = useRadio(\n    { ...combinedProps, 'aria-label': props.accessibilityLabel, children },\n    contextState.state ?? {},\n    inputRef\n  );\n\n  // console.log('radio', radioState);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const inputProps = React.useMemo(() => radioState.inputProps, [\n    radioState.inputProps.checked,\n    radioState.inputProps.disabled,\n  ]);\n\n  const [contextCombinedProps] = React.useState({\n    ...combinedProps,\n  });\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n  if (isEmptyObj(contextState)) {\n    console.error('Error: Radio must be wrapped inside a Radio.Group');\n    return <></>;\n  }\n\n  return (\n    <RadioComponent\n      inputProps={inputProps}\n      combinedProps={contextCombinedProps}\n      children={children}\n      size={size}\n      ref={ref}\n      icon={icon}\n      wrapperRef={wrapperRef}\n    />\n  );\n};\n\nexport default memo(forwardRef(Radio));\n"]}