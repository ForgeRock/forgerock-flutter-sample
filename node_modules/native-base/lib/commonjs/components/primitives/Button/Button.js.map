{"version":3,"sources":["Button.tsx"],"names":["Button","children","startIcon","rightIcon","leftIcon","endIcon","spinner","isDisabled","isLoading","spinnerPlacement","props","ref","hoverProps","isHovered","pressableProps","isPressed","focusProps","isFocused","isFocusVisible","focusRingProps","onPressIn","onPressOut","onHoverIn","onHoverOut","onFocus","onBlur","_text","_stack","_spinner","isLoadingText","resolvedProps","React","isValidElement","Children","map","child","index","cloneElement","key","boxChildren","spinnerElement","color","accessibilityRole"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport Spinner from '../Spinner';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { default as Box, IBoxProps } from '../Box';\nimport HStack from '../Stack/HStack';\nimport { Pressable } from '../Pressable';\nimport type { IButtonProps } from './types';\nimport { composeEventHandlers } from '../../../utils';\nimport {\n  useHover,\n  useFocus,\n  useIsPressed,\n} from '../../primitives/Pressable/Pressable';\nimport { useFocusRing } from '@react-native-aria/focus';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst Button = (\n  {\n    //@ts-ignore\n    children,\n    startIcon,\n    rightIcon,\n    leftIcon,\n    endIcon,\n    spinner,\n    isDisabled,\n    isLoading,\n    spinnerPlacement = 'start',\n    ...props\n  }: IButtonProps & IBoxProps,\n  ref: any\n) => {\n  const { hoverProps, isHovered } = useHover();\n  const { pressableProps, isPressed } = useIsPressed();\n  const { focusProps, isFocused } = useFocus();\n  const { isFocusVisible, focusProps: focusRingProps }: any = useFocusRing();\n\n  const {\n    onPressIn,\n    onPressOut,\n    onHoverIn,\n    onHoverOut,\n    onFocus,\n    onBlur,\n    _text,\n    _stack,\n    _spinner,\n    isLoadingText,\n    ...resolvedProps\n  } = usePropsResolution('Button', props, {\n    isDisabled,\n    isHovered,\n    isFocused,\n    isPressed,\n    isLoading,\n    isFocusVisible,\n  });\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  if (leftIcon) {\n    startIcon = leftIcon;\n  }\n  if (rightIcon) {\n    endIcon = rightIcon;\n  }\n  if (endIcon && React.isValidElement(endIcon)) {\n    endIcon = React.Children.map(\n      endIcon,\n      (child: JSX.Element, index: number) => {\n        return React.cloneElement(child, {\n          key: `button-end-icon-${index}`,\n          ..._text,\n          ...child.props,\n        });\n      }\n    );\n  }\n  if (startIcon && React.isValidElement(startIcon)) {\n    startIcon = React.Children.map(\n      startIcon,\n      (child: JSX.Element, index: number) => {\n        return React.cloneElement(child, {\n          key: `button-start-icon-${index}`,\n          ..._text,\n          ...child.props,\n        });\n      }\n    );\n  }\n\n  const boxChildren = isLoading && isLoadingText ? isLoadingText : children;\n\n  const spinnerElement = spinner ? (\n    spinner\n  ) : (\n    <Spinner color={_text?.color} {..._spinner} />\n  );\n\n  return (\n    <Pressable\n      disabled={isDisabled || isLoading}\n      ref={ref}\n      onPressIn={composeEventHandlers(onPressIn, pressableProps.onPressIn)}\n      onPressOut={composeEventHandlers(onPressOut, pressableProps.onPressOut)}\n      // @ts-ignore - web only\n      onHoverIn={composeEventHandlers(onHoverIn, hoverProps.onHoverIn)}\n      // @ts-ignore - web only\n      onHoverOut={composeEventHandlers(onHoverOut, hoverProps.onHoverOut)}\n      // @ts-ignore - web only\n      onFocus={composeEventHandlers(\n        composeEventHandlers(onFocus, focusProps.onFocus),\n        focusRingProps.onFocus\n      )}\n      // @ts-ignore - web only\n      onBlur={composeEventHandlers(\n        composeEventHandlers(onBlur, focusProps.onBlur),\n        focusRingProps.onBlur\n      )}\n      {...resolvedProps}\n      accessibilityRole={props.accessibilityRole ?? 'button'}\n    >\n      <HStack {..._stack}>\n        {startIcon && !isLoading ? startIcon : null}\n        {isLoading && spinnerPlacement === 'start' ? spinnerElement : null}\n        {boxChildren ? (\n          <Box _text={_text}>\n            {isLoading && isLoadingText ? isLoadingText : children}\n          </Box>\n        ) : null}\n        {endIcon && !isLoading ? endIcon : null}\n        {isLoading && spinnerPlacement === 'end' ? spinnerElement : null}\n      </HStack>\n    </Pressable>\n  );\n};\n\nexport default memo(forwardRef(Button));\n"]}