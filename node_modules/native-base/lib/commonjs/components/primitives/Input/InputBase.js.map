{"version":3,"sources":["InputBase.tsx"],"names":["StyledInput","TextInput","InputBase","onKeyPress","onFocus","onBlur","disableFocusHandling","inputProps","wrapperRef","props","ref","isFocused","setIsFocused","React","useState","handleFocus","focusState","callback","inputThemeProps","isDisabled","disabled","isInvalid","accessibilityInvalid","isReadOnly","accessibilityReadOnly","isRequired","required","_ref","useRef","isHovered","isFullWidth","ariaLabel","accessibilityLabel","placeholderTextColor","selectionColor","underlineColorAndroid","type","fontFamily","fontWeight","fontStyle","resolvedProps","resolvedFontFamily","resolvedPlaceholderTextColor","resolvedSelectionColor","resolvedUnderlineColorAndroid","undefined","e","persist","Platform","OS","cursor","outline"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport { TextInput, Platform } from 'react-native';\nimport type { IInputProps } from './types';\nimport { useToken } from '../../../hooks';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { useHover } from '@react-native-aria/interactions';\nimport { mergeRefs } from '../../../utils';\nimport { makeStyledComponent } from '../../../utils/styled';\nimport { useResolvedFontFamily } from '../../../hooks/useResolvedFontFamily';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst StyledInput = makeStyledComponent(TextInput);\n\nconst InputBase = (\n  {\n    onKeyPress,\n    onFocus,\n    onBlur,\n    disableFocusHandling,\n    inputProps,\n    wrapperRef,\n    ...props\n  }: IInputProps & {\n    disableFocusHandling?: boolean;\n    inputProps: any;\n  },\n  ref: any\n) => {\n  const [isFocused, setIsFocused] = React.useState(false);\n  const handleFocus = (focusState: boolean, callback: any) => {\n    !disableFocusHandling && setIsFocused(focusState);\n    callback();\n  };\n\n  const inputThemeProps = {\n    isDisabled: inputProps.disabled,\n    isInvalid: inputProps.accessibilityInvalid,\n    isReadOnly: inputProps.accessibilityReadOnly,\n    isRequired: inputProps.required,\n  };\n\n  const _ref = React.useRef(null);\n  const { isHovered } = useHover({}, _ref);\n\n  const {\n    isFullWidth,\n    isDisabled,\n    isReadOnly,\n    ariaLabel,\n    accessibilityLabel,\n    placeholderTextColor,\n    selectionColor,\n    underlineColorAndroid,\n    type,\n    fontFamily,\n    fontWeight,\n    fontStyle,\n    ...resolvedProps\n  } = usePropsResolution(\n    'Input',\n    {\n      ...inputThemeProps,\n      ...props,\n    },\n    {\n      isDisabled: inputThemeProps.isDisabled,\n      isHovered,\n      isFocused,\n      isInvalid: inputThemeProps.isInvalid,\n      isReadOnly: inputThemeProps.isReadOnly,\n    }\n  );\n\n  const resolvedFontFamily = useResolvedFontFamily({\n    fontFamily,\n    fontWeight: fontWeight ?? 400,\n    fontStyle: fontStyle ?? 'normal',\n  });\n  const resolvedPlaceholderTextColor = useToken('colors', placeholderTextColor);\n  const resolvedSelectionColor = useToken('colors', selectionColor);\n  const resolvedUnderlineColorAndroid = useToken(\n    'colors',\n    underlineColorAndroid\n  );\n  //TODO: refactor for responsive prop\n  if (\n    useHasResponsiveProps({\n      ...props,\n      onKeyPress,\n      onFocus,\n      onBlur,\n      disableFocusHandling,\n      inputProps,\n    })\n  ) {\n    return null;\n  }\n  return (\n    <StyledInput\n      {...inputProps}\n      {...resolvedFontFamily}\n      secureTextEntry={type === 'password'}\n      accessible\n      accessibilityLabel={ariaLabel || accessibilityLabel}\n      editable={isDisabled || isReadOnly ? false : true}\n      w={isFullWidth ? '100%' : undefined}\n      {...resolvedProps}\n      placeholderTextColor={resolvedPlaceholderTextColor}\n      selectionColor={resolvedSelectionColor}\n      underlineColorAndroid={resolvedUnderlineColorAndroid}\n      onKeyPress={(e: any) => {\n        e.persist();\n        onKeyPress && onKeyPress(e);\n      }}\n      onFocus={(e: any) => {\n        handleFocus(true, onFocus ? () => onFocus(e) : () => {});\n      }}\n      onBlur={(e: any) => {\n        handleFocus(false, onBlur ? () => onBlur(e) : () => {});\n      }}\n      // TODO: this can be moved to baseStyle using _web\n      {...(Platform.OS === 'web'\n        ? {\n            disabled: isDisabled,\n            cursor: isDisabled ? 'not-allowed' : 'auto',\n          }\n        : {})}\n      ref={mergeRefs([ref, _ref, wrapperRef])}\n      style={Platform.OS === 'web' ? { outline: 'none' } : {}}\n    />\n  );\n};\n\nexport default memo(forwardRef(InputBase));\n"]}